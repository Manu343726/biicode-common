import unittest
from biicode.common.dev.system_resource_names import SystemResourceNames
import os
from biicode.common.test.bii_test_case import BiiTestCase


class DevSysTest(BiiTestCase):

    def test_cpp(self):
        path = os.path.join(os.path.dirname(__file__),
                            '../../../common/dev/devsys/cpp/mingw_gcc_0')
        s = SystemResourceNames.read_file(path)
        for h in cpp_headers.splitlines():
            self.assertIn(h, s.names)

    def test_python(self):
        path = os.path.join(os.path.dirname(__file__),
                            '../../../common/dev/devsys/python/python27_0')
        s = SystemResourceNames.read_file(path)
        for h in python_files.splitlines():
            self.assertIn(h, s.names)

    def test_node(self):
        path = os.path.join(os.path.dirname(__file__),
                            '../../../common/dev/devsys/js/node-v0.10.13_0')
        s = SystemResourceNames.read_file(path)
        for h in node_files.splitlines():
            self.assertIn(h, s.names)

    def test_arduino_libs(self):
        for version in ["1.0.6", "1.5.8"]:
            path = os.path.join(os.path.dirname(__file__),
                                '../../../common/dev/devsys/cpp/arduino_all_libs_%s_0' % version)
            if version.startswith('1.5'):
                arduino_headers = arduino_headers_1_5
            else:
                arduino_headers = arduino_headers_1_0
            s = SystemResourceNames.read_file(path)
            for h in arduino_headers.splitlines():
                self.assertIn(h, s.names)

cpp_headers = '''math.h
lmconfig.h
regstr.h
stm.h
gdiplus/gdipluslinecaps.h
xopintrin.h
cinttypes
mingw32
'''

python_files = '''os.py
re.py
sqlite3/dump.py
sqlite3/dbapi2.py
traceback.py
logging/config.py
logging/handlers.py
abc.py
formatter.py
os2emxpath.py
statvfs.py
_strptime.py
ctypes/macholib/framework.py
ctypes/test/test_values.py
distutils/command/install_data.py
email/base64mime.py
encodings/cp737.py
encodings/iso8859_6.py
idlelib/AutoCompleteWindow.py
idlelib/ToolTip.py
lib/tk/test/test_ttk/test_functions.py
lib2to3/fixes/fix_renames.py
multiprocessing/connection.py
test/pickletester.py
test/test_bufio.py
test/test_cprofile.py
test/test_frozen.py
test/test_iter.py
test/test_ossaudiodev.py
test/test_scope.py
test/test_thread.py
test/test_wsgiref.py
unittest/util.py'''

node_files = '''assert.js
buffer.js
child_process.js
cluster.js
console.js
constants.js
crypto.js
dgram.js
dns.js
domain.js
events.js
freelist.js
fs.js
http.js
https.js
module.js
net.js
os.js
path.js
punycode.js
querystring.js
readline.js
repl.js
stream.js
string_decoder.js
sys.js
timers.js
tls.js
tty.js
url.js
util.js
vm.js
zlib.js
_debugger.js
_linklist.js
_stream_duplex.js
_stream_passthrough.js
_stream_readable.js
_stream_transform.js
_stream_writable.js
'''

arduino_headers_1_5 = '''EEPROM.h
SoftwareSerial.h
SPI.h
Wire.h
alloca.h
assert.h
ctype.h
errno.h
inttypes.h
math.h
setjmp.h
stdfix-avrlibc.h
stdint.h
stdio.h
stdlib.h
string.h
avr/boot.h
avr/builtins.h
avr/common.h
avr/cpufunc.h
avr/crc16.h
avr/delay.h
avr/eeprom.h
avr/fuse.h
avr/interrupt.h
avr/io.h
avr/io1200.h
avr/io2313.h
avr/io2323.h
avr/io2333.h
avr/io2343.h
avr/io43u32x.h
avr/io43u35x.h
avr/io4414.h
avr/io4433.h
avr/io4434.h
avr/io76c711.h
avr/io8515.h
avr/io8534.h
avr/io8535.h
avr/io86r401.h
avr/io90pwm1.h
avr/io90pwm161.h
avr/io90pwm216.h
avr/io90pwm2b.h
avr/io90pwm316.h
avr/io90pwm3b.h
avr/io90pwm81.h
avr/io90pwmx.h
avr/io90scr100.h
avr/ioa5272.h
avr/ioa5505.h
avr/ioa5790.h
avr/ioa5790n.h
avr/ioa5795.h
avr/ioa5831.h
avr/ioa6285.h
avr/ioa6286.h
avr/ioa6289.h
avr/ioa6612c.h
avr/ioa6613c.h
avr/ioa6614q.h
avr/ioa6616c.h
avr/ioa6617c.h
avr/ioa664251.h
avr/ioat94k.h
avr/iocan128.h
avr/iocan32.h
avr/iocan64.h
avr/iocanxx.h
avr/iom103.h
avr/iom128.h
avr/iom1280.h
avr/iom1281.h
avr/iom1284.h
avr/iom1284p.h
avr/iom1284rfr2.h
avr/iom128a.h
avr/iom128rfa1.h
avr/iom128rfr2.h
avr/iom16.h
avr/iom161.h
avr/iom162.h
avr/iom163.h
avr/iom164.h
avr/iom164a.h
avr/iom164p.h
avr/iom164pa.h
avr/iom165.h
avr/iom165a.h
avr/iom165p.h
avr/iom165pa.h
avr/iom168.h
avr/iom168a.h
avr/iom168p.h
avr/iom168pa.h
avr/iom169.h
avr/iom169a.h
avr/iom169p.h
avr/iom169pa.h
avr/iom16a.h
avr/iom16hva.h
avr/iom16hva2.h
avr/iom16hvb.h
avr/iom16hvbrevb.h
avr/iom16m1.h
avr/iom16u2.h
avr/iom16u4.h
avr/iom2560.h
avr/iom2561.h
avr/iom2564rfr2.h
avr/iom256rfr2.h
avr/iom3000.h
avr/iom32.h
avr/iom323.h
avr/iom324a.h
avr/iom324p.h
avr/iom324pa.h
avr/iom325.h
avr/iom3250.h
avr/iom3250a.h
avr/iom3250p.h
avr/iom3250pa.h
avr/iom325a.h
avr/iom325p.h
avr/iom325pa.h
avr/iom328.h
avr/iom328p.h
avr/iom329.h
avr/iom3290.h
avr/iom3290a.h
avr/iom3290pa.h
avr/iom329a.h
avr/iom329p.h
avr/iom329pa.h
avr/iom32a.h
avr/iom32c1.h
avr/iom32hvb.h
avr/iom32hvbrevb.h
avr/iom32m1.h
avr/iom32u2.h
avr/iom32u4.h
avr/iom32u6.h
avr/iom406.h
avr/iom48.h
avr/iom48a.h
avr/iom48p.h
avr/iom48pa.h
avr/iom64.h
avr/iom640.h
avr/iom644.h
avr/iom644a.h
avr/iom644p.h
avr/iom644pa.h
avr/iom644rfr2.h
avr/iom645.h
avr/iom6450.h
avr/iom6450a.h
avr/iom6450p.h
avr/iom645a.h
avr/iom645p.h
avr/iom649.h
avr/iom6490.h
avr/iom6490a.h
avr/iom6490p.h
avr/iom649a.h
avr/iom649p.h
avr/iom64a.h
avr/iom64c1.h
avr/iom64hve.h
avr/iom64hve2.h
avr/iom64m1.h
avr/iom64rfr2.h
avr/iom8.h
avr/iom8515.h
avr/iom8535.h
avr/iom88.h
avr/iom88a.h
avr/iom88p.h
avr/iom88pa.h
avr/iom8a.h
avr/iom8hva.h
avr/iom8u2.h
avr/iomx8.h
avr/iomxx0_1.h
avr/iomxx4.h
avr/iomxxhva.h
avr/iotn10.h
avr/iotn11.h
avr/iotn12.h
avr/iotn13.h
avr/iotn13a.h
avr/iotn15.h
avr/iotn1634.h
avr/iotn167.h
avr/iotn20.h
avr/iotn22.h
avr/iotn2313.h
avr/iotn2313a.h
avr/iotn24.h
avr/iotn24a.h
avr/iotn25.h
avr/iotn26.h
avr/iotn261.h
avr/iotn261a.h
avr/iotn28.h
avr/iotn4.h
avr/iotn40.h
avr/iotn4313.h
avr/iotn43u.h
avr/iotn44.h
avr/iotn441.h
avr/iotn44a.h
avr/iotn45.h
avr/iotn461.h
avr/iotn461a.h
avr/iotn48.h
avr/iotn5.h
avr/iotn828.h
avr/iotn84.h
avr/iotn841.h
avr/iotn84a.h
avr/iotn85.h
avr/iotn861.h
avr/iotn861a.h
avr/iotn87.h
avr/iotn88.h
avr/iotn9.h
avr/iotnx4.h
avr/iotnx5.h
avr/iotnx61.h
avr/iousb1286.h
avr/iousb1287.h
avr/iousb162.h
avr/iousb646.h
avr/iousb647.h
avr/iousb82.h
avr/iousbxx2.h
avr/iousbxx6_7.h
avr/iox128a1.h
avr/iox128a1u.h
avr/iox128a3.h
avr/iox128a3u.h
avr/iox128a4u.h
avr/iox128b1.h
avr/iox128b3.h
avr/iox128c3.h
avr/iox128d3.h
avr/iox128d4.h
avr/iox16a4.h
avr/iox16a4u.h
avr/iox16c4.h
avr/iox16d4.h
avr/iox16e5.h
avr/iox192a3.h
avr/iox192a3u.h
avr/iox192c3.h
avr/iox192d3.h
avr/iox256a3.h
avr/iox256a3b.h
avr/iox256a3bu.h
avr/iox256a3u.h
avr/iox256c3.h
avr/iox256d3.h
avr/iox32a4.h
avr/iox32a4u.h
avr/iox32c3.h
avr/iox32c4.h
avr/iox32d3.h
avr/iox32d4.h
avr/iox32e5.h
avr/iox384c3.h
avr/iox384d3.h
avr/iox64a1.h
avr/iox64a1u.h
avr/iox64a3.h
avr/iox64a3u.h
avr/iox64a4u.h
avr/iox64b1.h
avr/iox64b3.h
avr/iox64c3.h
avr/iox64d3.h
avr/iox64d4.h
avr/iox8e5.h
avr/lock.h
avr/parity.h
avr/pgmspace.h
avr/portpins.h
avr/power.h
avr/sfr_defs.h
avr/signal.h
avr/signature.h
avr/sleep.h
avr/version.h
avr/wdt.h
avr/xmega.h
compat/deprecated.h
compat/ina90.h
compat/twi.h
util/atomic.h
util/crc16.h
util/delay.h
util/delay_basic.h
util/parity.h
util/setbaud.h
util/twi.h
avr-libc/stdlib_private.h
avr-libc/sectionname.h
Arduino.h
binary.h
Client.h
HardwareSerial.h
HardwareSerial_private.h
IPAddress.h
new.h
Print.h
Printable.h
Server.h
Stream.h
Udp.h
USBAPI.h
USBCore.h
USBDesc.h
WCharacter.h
wiring_private.h
WString.h'''

arduino_headers_1_0 = '''EEPROM.h
Esplora.h
Dhcp.h
Dns.h
Ethernet.h
EthernetClient.h
EthernetServer.h
EthernetUdp.h
util.h
Boards.h
Firmata.h
GSM.h
GSM3CircularBuffer.h
GSM3MobileAccessProvider.h
GSM3MobileCellManagement.h
GSM3MobileClientProvider.h
GSM3MobileClientService.h
GSM3MobileDataNetworkProvider.h
GSM3MobileMockupProvider.h
GSM3MobileNetworkProvider.h
GSM3MobileNetworkRegistry.h
GSM3MobileServerProvider.h
GSM3MobileServerService.h
GSM3MobileSMSProvider.h
GSM3MobileVoiceProvider.h
GSM3ShieldV1.h
GSM3ShieldV1AccessProvider.h
GSM3ShieldV1BandManagement.h
GSM3ShieldV1BaseProvider.h
GSM3ShieldV1CellManagement.h
GSM3ShieldV1ClientProvider.h
GSM3ShieldV1DataNetworkProvider.h
GSM3ShieldV1DirectModemProvider.h
GSM3ShieldV1ModemCore.h
GSM3ShieldV1ModemVerification.h
GSM3ShieldV1MultiClientProvider.h
GSM3ShieldV1MultiServerProvider.h
GSM3ShieldV1PinManagement.h
GSM3ShieldV1ScanNetworks.h
GSM3ShieldV1ServerProvider.h
GSM3ShieldV1SMSProvider.h
GSM3ShieldV1VoiceProvider.h
GSM3SMSService.h
GSM3SoftSerial.h
GSM3VoiceCallService.h
LiquidCrystal.h
IRremote.h
IRremoteInt.h
IRremoteTools.h
ArduinoRobot.h
Arduino_LCD.h
Compass.h
EasyTransfer2.h
EEPROM_I2C.h
Fat16.h
Fat16Config.h
Fat16mainpage.h
Fat16util.h
FatStructs.h
Multiplexer.h
SdCard.h
SdInfo.h
Squawk.h
SquawkSD.h
ArduinoRobotMotorBoard.h
EasyTransfer2.h
LineFollow.h
Multiplexer.h
SD.h
Servo.h
SoftwareSerial.h
SPI.h
Stepper.h
TFT.h
WiFi.h
WiFiClient.h
WiFiServer.h
WiFiUdp.h
Wire.h
alloca.h
assert.h
ctype.h
errno.h
inttypes.h
math.h
setjmp.h
stdint.h
stdio.h
stdlib.h
string.h
avr/boot.h
avr/builtins.h
avr/common.h
avr/crc16.h
avr/delay.h
avr/eeprom.h
avr/fuse.h
avr/interrupt.h
avr/io.h
avr/io1200.h
avr/io2313.h
avr/io2323.h
avr/io2333.h
avr/io2343.h
avr/io43u32x.h
avr/io43u35x.h
avr/io4414.h
avr/io4433.h
avr/io4434.h
avr/io58u54a.h
avr/io76c711.h
avr/io8515.h
avr/io8534.h
avr/io8535.h
avr/io86r401.h
avr/io90pwm1.h
avr/io90pwm216.h
avr/io90pwm2b.h
avr/io90pwm316.h
avr/io90pwm3b.h
avr/io90pwmx.h
avr/ioat94k.h
avr/iocan128.h
avr/iocan32.h
avr/iocan64.h
avr/iocanxx.h
avr/iom103.h
avr/iom128.h
avr/iom1280.h
avr/iom1281.h
avr/iom1284p.h
avr/iom16.h
avr/iom161.h
avr/iom162.h
avr/iom163.h
avr/iom164.h
avr/iom165.h
avr/iom165p.h
avr/iom168.h
avr/iom168p.h
avr/iom169.h
avr/iom169p.h
avr/iom16hva.h
avr/iom2560.h
avr/iom2561.h
avr/iom32.h
avr/iom323.h
avr/iom324.h
avr/iom325.h
avr/iom3250.h
avr/iom328p.h
avr/iom329.h
avr/iom3290.h
avr/iom32c1.h
avr/iom32hvb.h
avr/iom32m1.h
avr/iom32u4.h
avr/iom32u6.h
avr/iom406.h
avr/iom48.h
avr/iom48p.h
avr/iom64.h
avr/iom640.h
avr/iom644.h
avr/iom645.h
avr/iom6450.h
avr/iom649.h
avr/iom6490.h
avr/iom8.h
avr/iom8515.h
avr/iom8535.h
avr/iom88.h
avr/iom88p.h
avr/iom8hva.h
avr/iomx8.h
avr/iomxx0_1.h
avr/iomxx4.h
avr/iomxxhva.h
avr/iotn11.h
avr/iotn12.h
avr/iotn13.h
avr/iotn13a.h
avr/iotn15.h
avr/iotn167.h
avr/iotn22.h
avr/iotn2313.h
avr/iotn24.h
avr/iotn25.h
avr/iotn26.h
avr/iotn261.h
avr/iotn28.h
avr/iotn43u.h
avr/iotn44.h
avr/iotn45.h
avr/iotn461.h
avr/iotn48.h
avr/iotn84.h
avr/iotn85.h
avr/iotn861.h
avr/iotn88.h
avr/iotnx4.h
avr/iotnx5.h
avr/iotnx61.h
avr/iousb1286.h
avr/iousb1287.h
avr/iousb162.h
avr/iousb646.h
avr/iousb647.h
avr/iousb82.h
avr/iousbxx2.h
avr/iousbxx6_7.h
avr/iox128a1.h
avr/iox128a3.h
avr/iox256a3.h
avr/iox256a3b.h
avr/iox64a1.h
avr/iox64a3.h
avr/lock.h
avr/parity.h
avr/pgmspace.h
avr/portpins.h
avr/power.h
avr/sfr_defs.h
avr/signal.h
avr/sleep.h
avr/version.h
avr/wdt.h
compat/deprecated.h
compat/ina90.h
compat/twi.h
util/atomic.h
util/crc16.h
util/delay.h
util/delay_basic.h
util/parity.h
util/setbaud.h
util/twi.h
avr-libc/stdlib_private.h
avr-libc/sectionname.h
Arduino.h
binary.h
Client.h
HardwareSerial.h
IPAddress.h
new.h
Platform.h
Print.h
Printable.h
Server.h
Stream.h
Udp.h
USBAPI.h
USBCore.h
USBDesc.h
WCharacter.h
wiring_private.h
WString.h
Arduino.h
binary.h
Client.h
HardwareSerial.h
IPAddress.h
new.h
Platform.h
Print.h
Printable.h
Server.h
Stream.h
Udp.h
USBAPI.h
USBCore.h
USBDesc.h
WCharacter.h
wiring_private.h
WString.h'''

if __name__ == "__main__":
    #import sys;sys.argv = ['', 'Test.testName']
    unittest.main()
